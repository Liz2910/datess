<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Agenda una Cita</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
  <script defer src="{{ url_for('static', filename='js/script.js') }}"></script>
</head>
<body>
  <div class="container fade-in">
    <div class="perfil">
      <img src="{{ url_for('static', filename='img/perfil.jpg') }}" alt="Perfil">
      <h2>Lizy Crisosto</h2>
      <p>Reserva una cita conmigo üåø</p>
      <p style="color:var(--muted);font-size:13px;">Duraci√≥n aproximada: 1-2 horas</p>
      <hr style="border:1px solid var(--border);margin:20px 0;">
      <p><strong>Disponibilidad:</strong><br>
        Lunes a S√°bado: 13:00 - 21:00
      </p>
    </div>

  <form id="citaForm" method="POST" action="/agendar">
    <!-- Paso 1: Seleccionar fecha -->
    <div class="step active" id="step-fecha">
      <h3>Selecciona una fecha</h3>
      <p>Elige el d√≠a que mejor te convenga para la cita</p>
      <div class="calendar-grid" id="calendar"></div>
      <button type="button" class="next-btn" id="btnFecha">Siguiente</button>
    </div>

    <!-- Paso 2: Seleccionar hora -->
    <div class="step" id="step-hora">
      <h3>Selecciona una hora</h3>
      <p id="fechaElegidaTxt" class="muted"></p>
      <div class="hours-grid" id="hours"></div>
      <div class="nav-btns">
        <button type="button" class="prev-btn" id="btnVolver1">Atr√°s</button>
        <button type="button" class="next-btn" id="btnHora">Siguiente</button>
      </div>
    </div>

    <!-- Paso 3: Datos personales -->
    <div class="step" id="step-datos">
      <h3>Informaci√≥n de contacto</h3>
      <p class="muted">Completa tus datos para confirmar la cita</p>

      <input type="hidden" name="fecha" id="fechaSeleccionada">
      <input type="hidden" name="hora" id="horaSeleccionada">

      <div class="form-grid">
        <div>
          <label>Nombre completo *</label>
          <input type="text" name="nombre" placeholder="Tu nombre completo" required>
        </div>
        <div>
          <label>Tel√©fono *</label>
          <input type="tel" name="telefono" placeholder="Tu n√∫mero de tel√©fono" required>
        </div>
      </div>

      <label>Mensaje o notas</label>
      <textarea name="nota" rows="3" placeholder="¬øHay algo espec√≠fico que te gustar√≠a hacer o comentar?"></textarea>

      <div class="resumen-cita">
        <h4>Resumen de tu cita</h4>
        <p><strong>Fecha:</strong> <span id="resumen-fecha"></span></p>
        <p><strong>Horario:</strong> <span id="resumen-hora"></span></p>
        <p><strong>Con:</strong> Lizy Crisosto</p>
        <p><strong>Duraci√≥n:</strong> 1‚Äì2 horas</p>
      </div>

      <div class="nav-btns">
        <button type="button" class="prev-btn" id="btnVolver2">Atr√°s</button>
        <button type="submit" class="next-btn">Confirmar Cita</button>
      </div>
    </div>
  </form>

  <div class="footer">
    &copy; TQM Yir
  </div>
</body>
</html>
